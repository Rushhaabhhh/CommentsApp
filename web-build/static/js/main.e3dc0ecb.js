(()=>{"use strict";var e={8898:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ee});var n=r(6560),o=r(1860),a=r(2217),l=r(5276),i=r(1244),s=r(3658),c=r(4705),d=r(233);const u="@comments",f=async e=>{try{await d.default.setItem(u,JSON.stringify(e))}catch(t){console.error("Error saving comments:",t)}},p="ADD_COMMENT",y="EDIT_COMMENT",m="DELETE_COMMENT",x="LOAD_COMMENTS",h=()=>async e=>{const t=await(async()=>{try{const e=await d.default.getItem(u);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading comments:",e),[]}})();e({type:x,payload:t})};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const b={comments:[]},O=(e=b,t)=>{switch(t.type){case p:return t.payload.parentId?j(j({},e),{},{comments:e.comments.map((e=>e.id===t.payload.parentId?j(j({},e),{},{replies:[...e.replies||[],t.payload]}):e))}):j(j({},e),{},{comments:[...e.comments,t.payload]});case y:return j(j({},e),{},{comments:e.comments.map((e=>e.id===t.payload.id?j(j({},e),{},{text:t.payload.text}):j(j({},e),{},{replies:e.replies?e.replies.map((e=>e.id===t.payload.id?j(j({},e),{},{text:t.payload.text}):e)):e.replies})))});case m:return j(j({},e),{},{comments:e.comments.filter((e=>e.id!==t.payload&&(e.replies&&(e.replies=e.replies.filter((e=>e.id!==t.payload))),!0)))});case x:return j(j({},e),{},{comments:t.payload});default:return e}},w=(0,i.createStore)(O,(0,i.applyMiddleware)(s.thunk));var C=r(9837),v=r(2049),S=r(9732),D=r(5599),E=r(9481),P=r(6690),T=r(7708);const B="#1E1E1E",F="#2C2C2C",k="#4D9DE0",I="#E15554",z="#FFFFFF",R="#B0B0B0",_=l.default.create({container:{backgroundColor:F,padding:15,borderRadius:12,marginVertical:10},input:{backgroundColor:B,color:z,padding:12,marginBottom:10,borderRadius:8,fontSize:16},textArea:{minHeight:100,textAlignVertical:"top"},buttonContainer:{flexDirection:"row",justifyContent:"space-between"},button:{backgroundColor:k,padding:12,borderRadius:8,alignItems:"center",flex:1,marginHorizontal:5,flexDirection:"row",justifyContent:"center"},cancelButton:{backgroundColor:I},buttonText:{color:z,fontWeight:"bold",marginLeft:5}}),M=({parentId:e})=>{const[t,r]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),i=(0,o.useDispatch)();return(0,T.jsxs)(C.default,{style:_.container,children:[(0,T.jsx)(E.default,{style:_.input,placeholder:"Your Name",placeholderTextColor:R,value:t,onChangeText:r}),(0,T.jsx)(E.default,{style:[_.input,_.textArea],placeholder:"Your Comment",placeholderTextColor:R,value:a,onChangeText:l,multiline:!0}),(0,T.jsxs)(C.default,{style:_.buttonContainer,children:[(0,T.jsxs)(S.default,{style:_.button,onPress:()=>{t.trim()&&a.trim()&&(i(((e,t,r=null)=>async(n,o)=>{const a={id:Date.now().toString(),name:e,text:t,date:(new Date).toISOString(),parentId:r};n({type:p,payload:a});const{comments:l}=o();await f(l)})(t,a,e)),r(""),l(""))},children:[(0,T.jsx)(P.default,{name:"send-outline",size:20,color:z}),(0,T.jsx)(D.default,{style:_.buttonText,children:"Submit"})]}),(0,T.jsxs)(S.default,{style:[_.button,_.cancelButton],children:[(0,T.jsx)(P.default,{name:"close-outline",size:20,color:z}),(0,T.jsx)(D.default,{style:_.buttonText,children:"Cancel"})]})]})]})},L="#1E1E1E",N="#2C2C2C",A="#4D9DE0",W="#E15554",H="#FFFFFF",V="#B0B0B0",J=l.default.create({container:{backgroundColor:N,padding:15,marginVertical:8,borderRadius:12,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},reply:{marginLeft:30,borderLeftWidth:2,borderLeftColor:A},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},avatarNameContainer:{flexDirection:"row",alignItems:"center"},avatar:{width:36,height:36,borderRadius:18,backgroundColor:A,justifyContent:"center",alignItems:"center",marginRight:10},avatarText:{color:H,fontSize:16,fontWeight:"bold"},name:{color:H,fontWeight:"bold",fontSize:16},date:{color:V,fontSize:12},text:{color:H,marginBottom:10,fontSize:15,lineHeight:22},input:{backgroundColor:L,color:H,padding:10,marginBottom:10,borderRadius:8,fontSize:15},actions:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},editReplyContainer:{flexDirection:"row"},actionButton:{flexDirection:"row",alignItems:"center",marginRight:15},actionText:{color:A,marginLeft:5,fontSize:14},deleteButton:{padding:5}}),Y=({id:e,name:t,text:r,date:a,isReply:l})=>{const[i,s]=(0,n.useState)(!1),[c,d]=(0,n.useState)(r),[u,p]=(0,n.useState)(!1),x=(0,o.useDispatch)();return(0,T.jsxs)(C.default,{style:[J.container,l&&J.reply],children:[(0,T.jsxs)(C.default,{style:J.header,children:[(0,T.jsxs)(C.default,{style:J.avatarNameContainer,children:[(0,T.jsx)(C.default,{style:J.avatar,children:(0,T.jsx)(D.default,{style:J.avatarText,children:t[0].toUpperCase()})}),(0,T.jsx)(D.default,{style:J.name,children:t})]}),(0,T.jsx)(D.default,{style:J.date,children:new Date(a).toLocaleString()})]}),i?(0,T.jsx)(E.default,{style:J.input,value:c,onChangeText:d,multiline:!0}):(0,T.jsx)(D.default,{style:J.text,children:r}),(0,T.jsxs)(C.default,{style:J.actions,children:[(0,T.jsx)(C.default,{style:J.editReplyContainer,children:i?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(S.default,{style:J.actionButton,onPress:()=>{c.trim()&&(x(((e,t)=>async(r,n)=>{r({type:y,payload:{id:e,text:t}});const{comments:o}=n();await f(o)})(e,c)),s(!1))},children:[(0,T.jsx)(P.default,{name:"checkmark-outline",size:18,color:A}),(0,T.jsx)(D.default,{style:J.actionText,children:"Save"})]}),(0,T.jsxs)(S.default,{style:J.actionButton,onPress:()=>s(!1),children:[(0,T.jsx)(P.default,{name:"close-outline",size:18,color:W}),(0,T.jsx)(D.default,{style:J.actionText,children:"Cancel"})]})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(S.default,{style:J.actionButton,onPress:()=>s(!0),children:[(0,T.jsx)(P.default,{name:"create-outline",size:18,color:A}),(0,T.jsx)(D.default,{style:J.actionText,children:"Edit"})]}),(0,T.jsxs)(S.default,{style:J.actionButton,onPress:()=>p(!u),children:[(0,T.jsx)(P.default,{name:"chatbubble-outline",size:18,color:A}),(0,T.jsx)(D.default,{style:J.actionText,children:"Reply"})]})]})}),(0,T.jsx)(S.default,{style:J.deleteButton,onPress:()=>{x((e=>async(t,r)=>{t({type:m,payload:e});const{comments:n}=r();await f(n)})(e))},children:(0,T.jsx)(P.default,{name:"trash-outline",size:18,color:W})})]}),u&&(0,T.jsx)(M,{parentId:e,onCancel:()=>p(!1)})]})};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const G="#1E1E1E",K="#2C2C2C",Q="#FFFFFF",X=l.default.create({container:{flex:1,backgroundColor:G,padding:15},header:{flexDirection:"row",justifyContent:"flex-start",marginBottom:15},sortButton:{backgroundColor:K,padding:10,borderRadius:8,flexDirection:"row",alignItems:"center"},sortButtonText:{color:Q,marginLeft:5},commentList:{paddingBottom:20}}),Z=()=>{const e=(0,o.useSelector)((e=>e.comments)),[t,r]=(0,n.useState)("desc"),a=(0,n.useCallback)((()=>e.slice().sort(((e,r)=>{const n=new Date(e.date).getTime(),o=new Date(r.date).getTime();return"desc"===t?o-n:n-o}))),[e,t]);return(0,T.jsxs)(C.default,{style:X.container,children:[(0,T.jsx)(C.default,{style:X.header,children:(0,T.jsxs)(S.default,{style:X.sortButton,onPress:()=>r("desc"===t?"asc":"desc"),children:[(0,T.jsx)(P.default,{name:"desc"===t?"arrow-down":"arrow-up",size:20,color:Q}),(0,T.jsx)(D.default,{style:X.sortButtonText,children:"desc"===t?"Newest First":"Oldest First"})]})}),(0,T.jsx)(v.default,{data:a(),renderItem:({item:e})=>(0,T.jsxs)(C.default,{children:[(0,T.jsx)(Y,q({},e)),e.replies&&e.replies.map((e=>(0,T.jsx)(Y,q(q({},e),{},{isReply:!0}),e.id)))]}),keyExtractor:e=>e.id.toString(),contentContainerStyle:X.commentList})]})},$=l.default.create({container:{flex:1,padding:20}}),ee=()=>((0,n.useEffect)((()=>{w.dispatch(h())}),[]),(0,T.jsx)(o.Provider,{store:w,children:(0,T.jsxs)(a.default,{style:$.container,children:[(0,T.jsx)(M,{}),(0,T.jsx)(Z,{})]})}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,a)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,o,a]=e[d],i=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,o,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,r.d(a,l),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[l,i,s]=n,c=0;if(l.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(s)var d=s(r)}for(t&&t(n);c<l.length;c++)a=l[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[216],(()=>r(1055)));n=r.O(n)})();
//# sourceMappingURL=main.e3dc0ecb.js.map